---
title: 代币经济
---

所有 EVM 都需要一个原生代币来支付交易费，也称为汽油费。
EOS EVM 原生代币就是 EOS 代币。

## EOS EVM 桥

互操作性是 EOS EVM 设计的关键部分。因此EVM设计让经济价值自由流动
在本机层和 EVM 层之间。这就是 EVM 的无信任桥发挥作用的地方。

！[EOS EVM 无信任桥](images/EOS-EVM_trustless_bridge.png)

使用去信任桥，用户不必依赖第三方预言机将代币从 EOS 原生移动到 EOS EVM。
相反，他们可以简单地将他们的代币发送到 EOS EVM 合约 eosio.evm，并输入他们的 EOS EVM 的地址
备忘录字段中的钱包。这会将资产从原生层移动到 EVM 上的指定地址。当一个
用户想将资产移回 EOS 原生，该桥允许 EVM 交易触发 EOS 转移
从 EOS EVM 合约到带有可选备忘录的用户指定的 EOS 原生帐户。桥梁前端使它
用户可以轻松构建这些类型的 EVM 交易。

### 桥接费用明细

所有 EVM 交易，包括传出桥转账，都需要用户支付 gas 费用。这些费用涵盖
系统的常规成本，将在下一节讨论
这 [EOS EVM 气体模型](#eos-evm-gas-model).

然而，传入的桥接传输作为 EOS 交易开始，然后导致 EOS EVM 合约在内部
生成 EVM 交易。内部 EVM 交易会产生成本，因为它是由 EOS EVM 生成的
合约，没有机制让用户直接支付该内部交易的gas费用。反而，
EOS EVM 合约通过从传入的交易中扣除一小笔过桥费来支付内部 EVM 交易的成本
转账金额。为了避免用户因可能波动的桥接费用而感到困惑，桥接费用虽然仍然是可配置的，
不直接与计算的实际汽油费相关联。相反，它被配置为使系统保持盈利
一般。在启动时，配置了每次传入桥接传输 0.01 EOS 的桥接费用。但是静态桥接费和
盈利目标意味着内部 EVM 交易的 gas 限制被保守地设置为仅支持
外部拥有的帐户作为目的地。

此外，虽然执行传出桥转账的 EVM 交易需要收取汽油费，
gas 费仅涵盖 EVM 产生的计算成本。传出桥接传输通常可以触发
任意 EOS 本地智能合约代码在目标账户上执行，并且没有任何额外的计算
成本计入计算的汽油费中。出于这个原因，传出的网桥传输最多可以发送到一个
每个 EVM 交易的外部 EOS 帐户。该帐户必须没有部署合同，或者必须在
特殊出口允许列表。

单个 EVM 交易可以有多个传出桥转账到不同的账户。然而，
这需要在 EOS EVM 合约中使用更高级的功能，其中目标账户首先
在 EOS EVM 合约中建立一个内部余额，并在稍后的时间提取在该合约中收集的资金
平衡到他们的外部 EOS 账户。

### EVM 用户的用户体验

无需信任的桥梁还消除了用户从其他基于 EVM 的生态系统进入 EOS EVM 的显着障碍。
那就是需要创建一个EOS原生账号。虽然不难，但这个过程对那些习惯的人来说是陌生的
通过 MetaMask 等以太坊钱包与区块链交互。此外，还有一个额外的成本
与创建 EOS 本机帐户相关联，这会增加最终用户的摩擦。

为了解决这个问题，如果用户只想与 EOS EVM 交互，他们可以简单地在应用程序中生成一个免费地址
像 MetaMask 一样，并将其连接到 EVM。然后，他们可以在交易所购买 EOS 原生代币并将其发送
通过使用无信任桥进出 EOS EVM。这带来了无缝的用户体验，其中
最终用户根本不需要与 EOS 原生交互。

EOS EVM 的长期目标是在未来启用除 EOS 之外支持多种代币的功能。在里面
同时，Multichain 桥将使 dApp 可以轻松地将其代币带入 EOS EVM 经济。

！[EOS EVM 到 EOS 的桥接](images/EOS-EVM_bridge_to_EOS.png)

## EOS EVM 气体模型

Gas 模型是 EOS EVM 经济的另一个重要组成部分。所有 EVM 都需要一个原生代币来覆盖交易
费用，也称为汽油费。在以太坊网络上，这将是 ETH。 EOS 代币作为 gas 代币
EVM。这确保了简单的设计，同时为 EOS 代币带来了更多的实用性。

### 煤气费计算

因为 EOS EVM 合约运行在 EOS 区块链上，无论 EVM 内部发生什么，最终都是 EOS 原生的
正在利用 RAM、CPU 和 NET 等资源。 EVM 和 EOS 原生的资源模型有很大不同
这使得它们之间的映射变得棘手，尤其是在持久合约存储成本方面。

EOS native 使用 RAM 的所有权模型，其中 RAM 令牌的所有权代表对相应
帐户和合约的持久存储空间的字节数。这些 RAM 代币可以从
EOS的链上市场。如果账户/合约不再需要由
RAM 代币保存在 EOS 帐户上，然后可用空间可以在以后有效地重新用于其他存储。
或者，多余的 RAM 可以在 EOS 的链上市场上出售。

EOS 上的其他计算资源是 CPU 和 NET。然而，这些是在
定期，例如通过 PowerUp，或通过 EOS 支付。

另一方面，EVM 使用 gas 费用来支付存储成本，就像它覆盖其他临时计算的方式一样
交易的成本。这简化了用户支付费用的方式。但它确实提供了有限的机会
如果合同不再需要存储那么多数据，则可以恢复价值。

Gas 费用与 RAM 等底层资源成本之间的映射旨在实现最大的兼容性和简单性
对于最终用户，尤其是在初始启动期间。计算 EVM 交易的 gas 使用量的算法是
EOS EVM 与其他流行的 EVM 完全相同。用户支付的gas费就是gas使用量的乘积
根据交易中设定的 gas 价格。这是由 EOS EVM 合约强制执行的，以满足可配置的最低 gas
价格。然后，gas 费用被拆分并适当地分配以支付系统的必要费用。

### 从 EOS EVM 到 EOS Native 的 Gas 费用路由

处理 EVM 交易有两个相关的计算成本。

#### EOS 原生计算成本

第一个成本是 CPU 和 NET 的 EOS 本机计算成本，必须由 EOS 帐户承担，该帐户是
包装 EVM 交易的 EOS 交易的第一授权人。 EVM 交易的一部分 gas 费用可以是
如果他们声称自己是 `miner` 的EVM交易，并已打开一个内部
EOS EVM 合约中的余额。

路由到该矿工内部余额的 gas 费用的百分比由可配置参数决定
EOS EVM 合约称为矿工切割。通过为矿工切割和最低 gas 价格设置适当的值
在 EOS EVM 合约中，矿工预计将获得足够的 gas 费用以支付他们的平均费用
CPU 和 NET 成本以及运行有限 RPC 节点的成本，专注于接受有效的 EVM 交易，包装
他们在 EOS 交易中，并将它们提交给 EOS 区块链。虽然任何人都可以充当矿工，但在
网络，ENF 将提供此服务以确保 MetaMask 等钱包所期望的可靠 RPC 端点是
从发布开始立即可用。

#### 内部 EVM 运营成本

第二个成本是内部 EVM 运营成本，主要包括 EOS EVM 合约的 RAM 消耗。
这笔费用由未路由到矿工的 EVM 交易的剩余 gas 费用部分支付。
同样，适当调整矿工削减和最低 gas 价格参数可确保收取足够的费用
系统保持盈利。这些费用累积在 eosio.evm 账户的特殊内部余额中，可以
随时在其主动许可的授权下撤回。

！[EOS EVM 代币流程](images/EOS-EVM_token_flow.png)
